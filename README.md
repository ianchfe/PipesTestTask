–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ 3D-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–µ—á–µ–Ω–∏–π, –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤ –∏ —Ç–æ—á–µ–∫) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Three.js –∏ MobX.

üì¶ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
  - Three.js ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è 3D-—Å—Ü–µ–Ω—ã
  - MobX ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  - React + TypeScript ‚Äî UI –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
  - Vite ‚Äî —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

üõ†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤ (nodes), —Å–µ—á–µ–Ω–∏–π (sections) –∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤ (horizons)
  - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ü–µ–Ω–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π OrbitControls
  - –í—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –º–µ–∂–¥—É –Ω–∏–º–∏ (–¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ü–µ–Ω—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ store'–∞
  - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
  
`git clone https://github.com/your-username/3d-mine-viewer.git1`
`cd 3d-mine-viewer`

–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

`npm install`

–ó–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç:

`npm run dev`

–û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

http://localhost:5173

–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:

  üß† renderUtils.ts
 
  –•–µ–ª–ø–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å 3D-—Å—Ü–µ–Ω–æ–π:
  - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ (`highlightPath`)
  - –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è (`clearPreviousSelection`)
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º (`showDistanceLabel`)
 
  –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Three.js –∏ custom SceneManager.


 ü™ù –•—É–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
 
useSceneManager(containerRef: RefObject<HTMLDivElement>)
–≠—Ç–æ—Ç —Ö—É–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º SceneManager, —Å–æ–∑–¥–∞—é—â–∏–º –∏ —Ä–µ–Ω–¥–µ—Ä—è—â–∏–º 3D-—Å—Ü–µ–Ω—É —Å –ø–æ–º–æ—â—å—é Three.js.
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - –°–æ–∑–¥–∞–µ—Ç SceneManager, –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –µ–≥–æ –∫ DOM-—ç–ª–µ–º–µ–Ω—Ç—É.
  - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ä–µ–Ω–¥–µ—Ä, –∫–∞–º–µ—Ä—É, –æ—Å–≤–µ—â–µ–Ω–∏–µ, –∞–Ω–∏–º–∞—Ü–∏—é.
  - –û—á–∏—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–π 3D-—Å—Ü–µ–Ω–æ–π —á–µ—Ä–µ–∑ React.

useGraphData()
–•—É–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ ‚Äî —É–∑–ª–æ–≤ –∏ —Å–µ–∫—Ü–∏–π (—Ä–µ–±–µ—Ä).
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ API –∏–ª–∏ —Å—Ç–æ—Ä–∞).
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç nodes, sections, –≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
–ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ä–µ–Ω–¥–µ—Ä—è—â–∏—Ö –≥—Ä–∞—Ñ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–µ–º.

useOriginalColors()
–•—É–∫ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç Ref —Å Map<THREE.Mesh, THREE.Color>, —á—Ç–æ–±—ã:
  - –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ —Ü–≤–µ—Ç–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–µ—Ä–µ–¥ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π (highlightPath).
  - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏—Ö –ø–æ–∑–∂–µ (clearPreviousSelection).
–£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

usePathInteraction(sceneManager, originalColors, hasPathShown)
–•—É–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å 3D-—Å—Ü–µ–Ω–æ–π: –∫–ª–∏–∫ –ø–æ –æ–±—ä–µ–∫—Ç—É, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è.
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç raycaster –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Ç—å –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–æ—á–∫–∏ –¥–æ —Ü–µ–Ω—Ç—Ä–∞.
  - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è (showDistanceLabel).
–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∫–ª–∏–∫–µ –æ—á–∏—â–∞–µ—Ç —Å—Ü–µ–Ω—É.

useRenderSceneData(sceneManager, nodes, sections)
–•—É–∫ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É —Å—Ü–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
  - –†–µ–Ω–¥–µ—Ä–∏—Ç —É–∑–ª—ã (—Ç–æ—á–∫–∏), —Å–µ–∫—Ü–∏–∏ (—Ä–µ–±—Ä–∞), –≤–æ–∑–º–æ–∂–Ω–æ ‚Äî –ø–æ–¥–∑–µ–º–Ω—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã.
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã SceneManager –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ü–µ–Ω—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ nodes –∏–ª–∏ sections.
